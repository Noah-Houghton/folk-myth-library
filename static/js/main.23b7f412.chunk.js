(this["webpackJsonpfolk-myth-library"]=this["webpackJsonpfolk-myth-library"]||[]).push([[0],{26:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},35:function(e,t,a){e.exports=a(50)},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),i=a.n(l),o=(a(40),a(23)),s=a(24),c=a(25),u=a(12),m=a(33),d=a(26),h=a.n(d),g=(a(41),a(32)),f=a(27),p=a.n(f);function v(e,t){var a=!1,n=!0,r=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;a=a||s.includes(t)}}catch(c){r=!0,l=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw l}}return a}var E=a(76),y=a(82),b=a(84),k=a(78),x=a(80),T=a(83),B=a(79),C=a(81),A=a(30),S=a.n(A),P=a(28),w=a.n(P),O=a(85),j=(a(42),Object(E.a)({table:{minWidth:650}}));function L(e){return r.a.createElement(B.a,null,r.a.createElement(k.a,null,e.Title),r.a.createElement(k.a,null,e.Author),r.a.createElement(k.a,null,e.Shelf),r.a.createElement(k.a,null,e.Publisher),r.a.createElement(k.a,null,e.Translator),r.a.createElement(k.a,null,e.Volume),r.a.createElement(k.a,null,e.Region),r.a.createElement(k.a,null,e.Type),r.a.createElement(k.a,null,e.Published),r.a.createElement(k.a,null,e.Copies),r.a.createElement(k.a,null,e.Tags),r.a.createElement(k.a,null,e.Language),r.a.createElement(k.a,null,e.Editor))}function I(e){var t=j();if(0===e.data.length)return r.a.createElement("p",null,"Loading...");var a=[],n=!0,l=!1,i=void 0;try{for(var o,s=e.data[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;a.push(L(c))}}catch(m){l=!0,i=m}finally{try{n||null==s.return||s.return()}finally{if(l)throw i}}var u=[{target:"Title",text:"Title"},{target:"Author",text:"Author"},{target:"Shelf",text:"Shelf Location"},{target:"Publisher",text:"Publisher"},{target:"Translator",text:"Translator"},{target:"Volume",text:"Volume"},{target:"Region",text:"Region"},{target:"Type",text:"Type"},{target:"Published",text:"Published"},{target:"Copies",text:"Copies"},{target:"Tags",text:"Tags"},{target:"Language",text:"Language"},{target:"Editor",text:"Editor"}].map((function(t,a){return function(e){var t=e.active?e.ascending?r.a.createElement(w.a,{fontSize:"small"}):r.a.createElement(S.a,{fontSize:"small"}):"";return r.a.createElement(O.a,{title:e.active?"Sorting "+(e.ascending?"Ascending":"Descending"):"Click to sort by this column"},r.a.createElement(k.a,{onClick:e.handler},e.text," ",t))}({handler:e.onClick(t.target),text:t.text,active:a===e.activeHeaderIndex,ascending:e.ascending})}));return r.a.createElement(x.a,{component:C.a},r.a.createElement(y.a,{className:t.table,"aria-label":"simple table"},r.a.createElement(T.a,null,r.a.createElement(B.a,{className:"header",key:"Columns"},u||"")),r.a.createElement(b.a,null,a||"")))}a(49);function H(e){return r.a.createElement("div",{className:"filter"},r.a.createElement("input",{placeholder:"Enter a term to filter the library",id:"searchTerm",type:"text"}),r.a.createElement("button",{onClick:e.onClick},"Filter"))}var N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={loading:!0,allBooks:[],filteredBooks:[],searchTerm:"",filters:null,activeHeaderIndex:-1,sortAscending:!0},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"filterBooks",value:function(){var e=this,t=p()("#searchTerm").val()||"";this.setState({filteredBooks:this.state.allBooks.filter((function(a){return""!==t?a.Title.includes(t)||v(a.Author,t)||v(a.Editor,t)||v(a.Tags,t):e.state.allBooks})),searchTerm:t,filters:this.state.filters})}},{key:"loadBooks",value:function(){var e=this;this.setState({loading:!0}),Object(g.a)("https://docs.google.com/spreadsheets/d/e/2PACX-1vT2v2Ka1L9i28QBUQq_-GgZtcHO6UGHw6M5Po7GxGd5Iczn0dyhhIJMFO82PbZUWpd9xjqx4wzhCoEF/pub?gid=0&single=true&output=csv").then((function(t){var a=[];t.forEach((function(e){var t={Title:e.Title.trim(),Author:e.Author.split(",").map((function(e){return e.trim()})),Shelf:e.Shelf.trim(),Publisher:e.Publisher.trim(),Translator:e.Translator.trim(),Volume:+e.Volume,Region:e.Region.trim(),Type:e.Type.trim(),Published:+e.Published,Copies:+e.Copies,Tags:e.Tags.split(",").map((function(e){return e.trim()})),Language:e.Language.trim(),Editor:e.Editor.split(",").map((function(e){return e.trim()}))};a.push(t)})),e.setState({allBooks:a,loading:!1}),e.filterBooks()}))}}]),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadBooks()}},{key:"sortByColumn",value:function(e){var t=this;return function(){t.setState({activeHeaderIndex:Object.keys(t.state.allBooks[0]).indexOf(e),filteredBooks:t.state.filteredBooks.sort((function(a,n){return(t.state.sortAscending?a[e]<n[e]:a[e]>n[e])?1:-1})),sortAscending:!t.state.sortAscending})}}},{key:"render",value:function(){var e=this.state.filteredBooks;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"The Folklore and Mythology Library"),r.a.createElement("img",{src:h.a,className:"App-logo",alt:"logo"}),r.a.createElement("h2",null,'"To Vincent, Who Shared the Quest"'),r.a.createElement("p",null,"\u2014 Esther Casier-Quinn")),r.a.createElement(H,{onClick:this.filterBooks}),r.a.createElement(I,{ascending:this.state.sortAscending,activeHeaderIndex:this.state.activeHeaderIndex,onClick:this.sortByColumn.bind(this),data:e}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.23b7f412.chunk.js.map