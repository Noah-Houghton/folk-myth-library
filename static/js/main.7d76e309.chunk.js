(this["webpackJsonpfolk-myth-library"]=this["webpackJsonpfolk-myth-library"]||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},27:function(e,t,a){e.exports=a(40)},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(16),o=a.n(r),i=(a(32),a(17)),c=a(18),s=a(19),u=a(8),m=a(24),h=a(20),d=a.n(h),f=(a(33),a(23)),E=a(21),p=a.n(E);function g(e,t){var a=!1,n=!0,l=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;a=a||c.includes(t)}}catch(s){l=!0,r=s}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}return a}var k=a(58),v=a(63),y=a(65),b=a(66),C=a(61),T=a(64),B=a(60),P=a(62),w=(a(34),Object(k.a)({table:{minWidth:650}}));function S(e){return l.a.createElement(B.a,null,l.a.createElement(b.a,null,e.Title),l.a.createElement(b.a,null,e.Author),l.a.createElement(b.a,null,e.Shelf),l.a.createElement(b.a,null,e.Publisher),l.a.createElement(b.a,null,e.Translator),l.a.createElement(b.a,null,e.Volume),l.a.createElement(b.a,null,e.Region),l.a.createElement(b.a,null,e.Type),l.a.createElement(b.a,null,e.Published),l.a.createElement(b.a,null,e.Copies),l.a.createElement(b.a,null,e.Tags),l.a.createElement(b.a,null,e.Language),l.a.createElement(b.a,null,e.Editor))}function A(e){var t=w();if(0===e.data.length)return l.a.createElement("p",null,"Loading...");var a,n=[],r=!0,o=!1,i=void 0;try{for(var c,s=e.data[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var u=c.value;n.push(S(u))}}catch(m){o=!0,i=m}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return l.a.createElement(C.a,{component:P.a},l.a.createElement(v.a,{className:t.table,"aria-label":"simple table"},l.a.createElement(T.a,null,(a=e.onClick,l.a.createElement(B.a,{className:"header",key:"Columns"},l.a.createElement(b.a,{onClick:a("Title")},"Title"),l.a.createElement(b.a,{onClick:a("Author")},"Author"),l.a.createElement(b.a,{onClick:a("Shelf")},"Shelf"),l.a.createElement(b.a,{onClick:a("Publisher")},"Publisher"),l.a.createElement(b.a,{onClick:a("Translator")},"Translator"),l.a.createElement(b.a,{onClick:a("Volume")},"Volume"),l.a.createElement(b.a,{onClick:a("Region")},"Region"),l.a.createElement(b.a,{onClick:a("Type")},"Type"),l.a.createElement(b.a,{onClick:a("Published")},"Published"),l.a.createElement(b.a,{onClick:a("Copies")},"Copies"),l.a.createElement(b.a,{onClick:a("Tags")},"Tags"),l.a.createElement(b.a,{onClick:a("Language")},"Language"),l.a.createElement(b.a,{onClick:a("Editor")},"Editor")))),l.a.createElement(y.a,null,n)))}a(39);function O(e){return l.a.createElement("div",{className:"filter"},l.a.createElement("input",{placeholder:"Enter a term to filter the library",id:"searchTerm",type:"text"}),l.a.createElement("button",{onClick:e.onClick},"Filter"))}var j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={loading:!0,allBooks:[],filteredBooks:[],searchTerm:"",filters:null,ascending:!0},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"filterBooks",value:function(){var e=this,t=p()("#searchTerm").val()||"";this.setState({filteredBooks:this.state.allBooks.filter((function(a){return""!==t?a.Title.includes(t)||g(a.Author,t)||g(a.Editor,t)||g(a.Tags,t):e.state.allBooks})),searchTerm:t,filters:this.state.filters})}},{key:"loadBooks",value:function(){var e=this;this.setState({loading:!0}),Object(f.a)("https://docs.google.com/spreadsheets/d/e/2PACX-1vT2v2Ka1L9i28QBUQq_-GgZtcHO6UGHw6M5Po7GxGd5Iczn0dyhhIJMFO82PbZUWpd9xjqx4wzhCoEF/pub?gid=0&single=true&output=csv").then((function(t){var a=[];t.forEach((function(e){var t={Title:e.Title.trim(),Author:e.Author.split(",").map((function(e){return e.trim()})),Shelf:e.Shelf.trim(),Publisher:e.Publisher.trim(),Translator:e.Translator.trim(),Volume:+e.Volume,Region:e.Region.trim(),Type:e.Type.trim(),Published:+e.Published,Copies:+e.Copies,Tags:e.Tags.split(",").map((function(e){return e.trim()})),Language:e.Language.trim(),Editor:e.Editor.split(",").map((function(e){return e.trim()}))};a.push(t)})),e.setState({allBooks:a,loading:!1}),e.filterBooks()}))}}]),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadBooks()}},{key:"sortByColumn",value:function(e){var t=this;return function(){t.setState({filteredBooks:t.state.filteredBooks.sort((function(a,n){return(t.state.ascending?a[e]<n[e]:a[e]>n[e])?1:-1})),ascending:!t.state.ascending})}}},{key:"render",value:function(){var e=this.state.filteredBooks;return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement("h1",null,"The Folklore and Mythology Library"),l.a.createElement("img",{src:d.a,className:"App-logo",alt:"logo"}),l.a.createElement("h2",null,'"To Vincent, Who Shared the Quest"'),l.a.createElement("p",null,"\u2014 Esther Casier-Quinn")),l.a.createElement(O,{onClick:this.filterBooks}),l.a.createElement(A,{onClick:this.sortByColumn.bind(this),data:e}))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.7d76e309.chunk.js.map